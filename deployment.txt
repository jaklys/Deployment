<script>
document.addEventListener('DOMContentLoaded', function () {
  var selectAllCheckbox = document.getElementById('selectAll');
  var tableRows = document.querySelectorAll('#myTable tr');
  
  // Přidání posluchače události na hlavní checkbox
  if (selectAllCheckbox) {
    selectAllCheckbox.addEventListener('change', function() {
      var isChecked = this.checked;
      tableRows.forEach(function(row) {
        var checkbox = row.querySelector('input[type="checkbox"]');
        if (checkbox) {
          checkbox.checked = isChecked; // Nastavení stavu všech checkboxů podle hlavního checkboxu
          toggleHighlight(row, isChecked); // Zvýraznění nebo odzvýraznění řádků
        }
      });
    });
  }

  // Posluchače pro řádky a checkboxy ve vaší tabulce (viz předchozí příklady)

  function toggleHighlight(row, isChecked) {
    if (isChecked) {
      row.classList.add('has-background-primary');
    } else {
      row.classList.remove('has-background-primary');
    }
  }
});

function updateRowHighlighting() {
    var tableRows = document.querySelectorAll('#myTable tr');
  
    tableRows.forEach(function(row) {
        var checkbox = row.querySelector('input[type="checkbox"]');
        if (checkbox) {
            // Aktualizace zvýraznění řádku na základě stavu checkboxu
            if (checkbox.checked) {
                row.classList.add('has-background-primary');
            } else {
                row.classList.remove('has-background-primary');
            }
        }
    });
}

</script>


document.addEventListener('DOMContentLoaded', function() {
    let table = document.getElementById('myTable');
    let dragging = false; // Flag pro detekci, zda uživatel "táhne"

    table.addEventListener('mousedown', function(e) {
        // Aktivujeme "táhnutí" pouze pokud bylo kliknuto na checkbox
        if (e.target.type === 'checkbox') {
            dragging = true;
            // Přepneme checkbox na opačný stav
            e.target.checked = !e.target.checked;
            toggleRowHighlight(e.target.closest('tr'), e.target.checked);
        }
    });

    table.addEventListener('mouseover', function(e) {
        // Pokud "táhneme" a přejíždíme přes další checkboxy, přepínáme je
        if (dragging && e.target.type === 'checkbox') {
            e.target.checked = !e.target.checked;
            toggleRowHighlight(e.target.closest('tr'), e.target.checked);
        }
    });

    // Když uživatel pustí tlačítko myši kdekoli na stránce, zastavíme "táhnutí"
    document.addEventListener('mouseup', function() {
        dragging = false;
    });

    // Funkce pro přepnutí zvýraznění řádku
    function toggleRowHighlight(row, isChecked) {
        if (isChecked) {
            row.classList.add('has-background-primary');
        } else {
            row.classList.remove('has-background-primary');
        }
    }
});