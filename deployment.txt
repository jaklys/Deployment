document.addEventListener('DOMContentLoaded', function() {
    let isDragging = false;
    let table = document.getElementById('myTable');

    table.addEventListener('mousedown', (e) => {
        // Pokud kliknutí začíná uvnitř řádku tabulky, povolíme táhnutí
        let row = e.target.closest('tr');
        if (row) {
            isDragging = true;
            // Nastavíme stav checkboxu uvnitř tohoto řádku
            let checkbox = row.querySelector('input[type="checkbox"]');
            if (checkbox) {
                checkbox.checked = true;
                row.classList.add('has-background-primary'); // Přidání zvýraznění
            }
            e.preventDefault(); // Zabráníme dalším akcím, které by mohly být spuštěny
        }
    });

    table.addEventListener('mouseover', (e) => {
        // Pokud táhneme a přejíždíme přes jiné řádky
        if (isDragging) {
            let row = e.target.closest('tr');
            if (row) {
                let checkbox = row.querySelector('input[type="checkbox"]');
                if (checkbox) {
                    checkbox.checked = true;
                    row.classList.add('has-background-primary'); // Přidání zvýraznění
                }
            }
        }
    });

    document.addEventListener('mouseup', () => {
        // Konec táhnutí
        isDragging = false;
    });
});